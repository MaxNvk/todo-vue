(function(t){function e(e){for(var o,a,r=e[0],c=e[1],u=e[2],d=0,f=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},s={app:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/todo-vue/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0f14":function(t,e,n){"use strict";var o=n("d4e7"),s=n.n(o);s.a},"17f8":function(t,e,n){},"2bec":function(t,e,n){"use strict";var o=n("5ef4"),s=n.n(o);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("BaseHeader"),n("router-view"),n("AppModal")],1)},i=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header d-flex justify-between align-center"},[n("router-link",{staticClass:"logo",attrs:{to:"/"}},[t._v("ToDo-List")]),n("div",{staticClass:"header__buttons d-flex"},[n("AddButton",{attrs:{to:"/note/new"}})],1)],1)},r=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.componentTag,{tag:"component",staticClass:"add-button",attrs:{to:t.to}},[n("FontAwesomeIcon",{attrs:{icon:"plus-square"}})],1)},u=[],l={props:{to:String},computed:{componentTag:function(){return this.to&&this.to.length?"router-link":"button"}}},d=l,f=(n("0f14"),n("2877")),h=Object(f["a"])(d,c,u,!1,null,"ddfd418e",null),p=h.exports,m={components:{AddButton:p}},v=m,b=(n("f5a7"),Object(f["a"])(v,a,r,!1,null,"5e07e1b5",null)),w=b.exports,g={components:{BaseHeader:w}},x=g,_=(n("5c0b"),Object(f["a"])(x,s,i,!1,null,null,null)),S=_.exports,O=n("8c4f"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container"},[t._l(t.notes,(function(t){return n("NoteCard",{key:t.id,attrs:{note:t}})})),t.notes.length?t._e():n("AddButton",{staticClass:"w-100",staticStyle:{height:"150px"},attrs:{to:"/note/new"}})],2)},k=[],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"note-card d-flex flex-wrap",attrs:{to:"/note/"+t.note.id}},[n("div",{staticClass:"d-flex w-100 justify-between"},[n("p",{staticClass:"note-card__title w-100"},[t._v(t._s(t.note.title))]),n("RemoveButton",{nativeOn:{click:function(e){return e.preventDefault(),t.callModalRemoveNote(e)}}})],1),n("ul",{staticClass:"w-100",attrs:{to:"/note/"+t.note.id}},[t._l(t.croppedTodos,(function(e){return n("li",{key:e.id},[n("TodoItem",{attrs:{disabled:!0},model:{value:t.croppedTodos[e.id],callback:function(n){t.$set(t.croppedTodos,e.id,n)},expression:"croppedTodos[item.id]"}})],1)})),this.note.todos.length>3?n("li",{staticClass:"note-card__dots"},[t._v(". . .")]):t._e()],2)])},I=[],C=(n("fb6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{class:"size-"+t.size,attrs:{type:"button"}},[n("FontAwesomeIcon",{attrs:{icon:"trash"}})],1)}),j=[],$={props:{size:String}},N=$,E=(n("957c"),Object(f["a"])(N,C,j,!1,null,"b606448c",null)),B=E.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todo-item d-flex justify-between align-center",class:{done:"true"==t.value.value.toString()}},[n("input",{attrs:{id:"check-"+t.value.id,type:"checkbox",disabled:t.disabled},domProps:{checked:"true"==t.value.value,value:"true"!=t.value.value},on:{input:function(e){return t.update("value",e.target.value)}}}),n("label",{staticClass:"phantom-checkbox d-flex justify-center align-center",attrs:{for:"check-"+t.value.id}},["true"==t.value.value?n("FontAwesomeIcon",{attrs:{icon:"check"}}):t._e()],1),n("input",{ref:"todoText",staticClass:"todo-item__text",attrs:{type:"text",disabled:t.disabled},domProps:{value:t.value.title},on:{input:function(e){return t.update("title",e.target.value)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"backspace",void 0,e.key,void 0)?null:t.handleDelete(e)}}}),t.disabled?t._e():n("RemoveButton",{nativeOn:{click:function(e){return t.handleDeleteButton(e)}}})],1)},A=[],D=n("ade3"),M=n("5530"),P={name:"TodoItem",components:{RemoveButton:B},props:{value:{type:Object,default:function(){return{id:null,title:null,value:!1}}},disabled:{type:Boolean,default:function(){return!1}}},methods:{update:function(t,e){this.$emit("input",Object(M["a"])(Object(M["a"])({},this.value),{},Object(D["a"])({},t,e)))},handleDeleteButton:function(){this.$emit("delete",this.value.id)},handleDelete:function(){this.value.title.length||this.$emit("delete",this.value.id)}}},F=P,J=(n("2bec"),Object(f["a"])(F,R,A,!1,null,"00ddf991",null)),V=J.exports,z={components:{RemoveButton:B,TodoItem:V},props:{note:{type:Object}},computed:{croppedTodos:function(){return this.note.todos.slice(0,3)}},methods:{callModalRemoveNote:function(){this.$modal.show({title:'Are you sure want to remove "'.concat(this.note.title,'" note?'),onSubmit:this.removeNote})},removeNote:function(){this.$store.commit("REMOVE_NOTE",this.note.id)}}},H=z,L=(n("cdab"),Object(f["a"])(H,T,I,!1,null,"04d400f6",null)),q=L.exports,G={name:"Home",components:{NoteCard:q,AddButton:p},computed:{notes:function(){return this.$store.state.notes}}},K=G,Q=Object(f["a"])(K,y,k,!1,null,null,null),U=Q.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"container",on:{submit:function(e){return e.preventDefault(),t.saveChanges(e)}}},[n("div",{staticClass:"state-change-buttons d-flex"},[n("button",{staticClass:"button",attrs:{disabled:!t.currentStateId,type:"button"},on:{click:function(e){return e.preventDefault(),t.prevStep(e)},blur:function(e){t.walkInTime=!1}}},[n("FontAwesomeIcon",{attrs:{icon:"chevron-left"}}),t._v(" Prev State ")],1),n("button",{staticClass:"button",attrs:{disabled:t.currentStateId+1===t.clonedStates.length,type:"button"},on:{click:function(e){return e.preventDefault(),t.nextStep(e)},blur:function(e){t.walkInTime=!1}}},[t._v(" Next State "),n("FontAwesomeIcon",{attrs:{icon:"chevron-right"}})],1)]),n("div",{staticClass:"d-flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.note.title,expression:"note.title"}],ref:"noteTitle",staticClass:"note-title",attrs:{type:"text"},domProps:{value:t.note.title},on:{input:function(e){e.target.composing||t.$set(t.note,"title",e.target.value)}}}),"new"!=t.id?n("RemoveButton",{staticClass:"ml-15",attrs:{size:"lg"},nativeOn:{click:function(e){return t.callModalRemoveNote(e)}}}):t._e()],1),n("div",{staticClass:"todos"},[t._l(t.note.todos,(function(e){return n("TodoItem",{key:e.id,ref:"todoItem",refInFor:!0,on:{delete:t.deleteTodo},model:{value:t.note.todos[e.id],callback:function(n){t.$set(t.note.todos,e.id,n)},expression:"note.todos[item.id]"}})})),n("AddButton",{staticClass:"w-100",nativeOn:{click:function(e){return e.preventDefault(),t.addTodo(e)}}})],2),t.changed?n("div",{staticClass:"note-footer d-flex justify-center align-center"},[n("button",{staticClass:"button save",attrs:{disabled:null==t.note.title||!t.note.title.length,type:"submit"}},[t._v(" Save changes ")]),"new"!=t.id?n("button",{staticClass:"button cancel",on:{click:function(e){return e.preventDefault(),t.callModalCancel(e)}}},[t._v(" Cancel changes ")]):t._e()]):t._e()])},X=[],Y=(n("c740"),n("a434"),n("96cf"),n("1da1")),Z={components:{TodoItem:V,AddButton:p,RemoveButton:B},props:{id:String},computed:{stateNote:function(){return this.$store.getters.getNoteById(this.id)}},created:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"new"!=t.id?t.note=t.cloneDeepObject(t.stateNote):t.note.id=t.$store.getters.lastNoteId+1,e.next=3,t.$nextTick();case 3:t.changed=!1,t.clonedStates=[t.cloneDeepObject(t.note)],t.currentStateId=0,t.$refs.noteTitle.focus();case 7:case"end":return e.stop()}}),e)})))()},data:function(){return{note:{id:null,title:null,todos:[]},currentStateId:0,clonedStates:[],walkInTime:!1,changed:!1}},methods:{cloneDeepObject:function(t){return JSON.parse(JSON.stringify(t))},prevStep:function(){this.walkInTime=!0,this.currentStateId-=1,this.note=this.cloneDeepObject(this.clonedStates[this.currentStateId])},nextStep:function(){this.walkInTime=!0,this.currentStateId+=1,this.note=this.cloneDeepObject(this.clonedStates[this.currentStateId])},saveChanges:function(){this.$store.commit("SAVE_NOTE",this.note),this.changed=!1,"new"==this.id&&this.$router.push("/note/".concat(this.note.id)),this.walkInTime=!1,this.clonedStates=[this.note],this.currentStateId=0},cancelChanges:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.note=JSON.parse(JSON.stringify(t.stateNote)),e.next=3,t.$nextTick();case 3:t.changed=!1,t.walkInTime=!1,t.clonedStates=[t.note],t.currentStateId=0;case 7:case"end":return e.stop()}}),e)})))()},removeNote:function(){this.$router.push("/"),this.$store.commit("REMOVE_NOTE",this.note.id)},callModalRemoveNote:function(){this.$modal.show({title:'Are you sure want to remove "'.concat(this.note.title,'" note?'),onSubmit:this.removeNote})},callModalCancel:function(){this.$modal.show({title:"Are you sure want to cancel changes?",onSubmit:this.cancelChanges})},focusOnLastTodo:function(){var t=this;setTimeout((function(){t.$refs.todoItem[t.$refs.todoItem.length-1].$refs.todoText.focus()}))},addTodo:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.note.todos.length?(n=t.note.todos[t.note.todos.length-1].id+1,t.note.todos.push({id:n,title:"",value:""})):t.note.todos.push({id:0,title:"",value:""}),e.next=3,t.$nextTick();case 3:t.focusOnLastTodo();case 4:case"end":return e.stop()}}),e)})))()},deleteTodo:function(t){var e=this;return Object(Y["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.note.todos.findIndex((function(e){return e.id===t})),e.note.todos.splice(o,1),n.next=4,e.$nextTick();case 4:e.note.todos.length&&e.focusOnLastTodo();case 5:case"end":return n.stop()}}),n)})))()}},watch:{note:{handler:function(t,e){null!=e.id&&(this.changed=!0,this.walkInTime||(this.currentStateId+1<this.clonedStates.length&&(this.clonedStates=this.clonedStates.slice(0,this.currentStateId+1)),this.clonedStates.push(this.cloneDeepObject(e)),this.currentStateId+=1))},deep:!0},id:{handler:function(t){"new"==t&&(this.note={id:this.$store.getters.lastNoteId+1,title:null,todos:[]})}}}},tt=Z,et=(n("ec88"),Object(f["a"])(tt,W,X,!1,null,"3f43512a",null)),nt=et.exports;o["a"].use(O["a"]);var ot=[{path:"/",name:"Home",component:U},{path:"/note/:id",name:"ToDo Item",props:!0,component:nt},{path:"*",redirect:"/"}],st=new O["a"]({mode:"history",base:"/todo-vue/",routes:ot}),it=st,at=(n("7db0"),n("2f62")),rt=n("0e44");o["a"].use(at["a"]);var ct=new at["a"].Store({strict:!1,plugins:[Object(rt["a"])()],state:{notes:[]},getters:{getNoteById:function(t){return function(e){return t.notes.find((function(t){return t.id==e}))}},lastNoteId:function(t){return t.notes.length?t.notes[t.notes.length-1].id:-1}},mutations:{SAVE_NOTE:function(t,e){var n=t.notes.findIndex((function(t){return t.id===e.id}));n>=0?t.notes[n]=e:t.notes.push(e)},REMOVE_NOTE:function(t,e){var n=t.notes.findIndex((function(t){return t.id===e}));t.notes.splice(n,1)}}}),ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShown?n("div",{staticClass:"modal",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.hide(e)}}},[n("div",{staticClass:"modal-content text-center"},[n("p",{staticClass:"modal-title"},[t._v(t._s(t.title))]),n("button",{staticClass:"modal-close",attrs:{tabindex:"-1"},on:{click:t.hide}},[n("FontAwesomeIcon",{attrs:{icon:"times"}})],1),n("div",{staticClass:"modal-footer d-flex justify-center"},[n("button",{ref:"submitButton",staticClass:"button save",attrs:{tabindex:"0"},on:{click:t.submit}},[t._v(" Submit ")]),n("button",{staticClass:"button cancel",attrs:{tabindex:"0"},on:{click:t.hide}},[t._v(" Cancel ")])])])]):t._e()},lt=[],dt={data:function(){return{title:null,isShown:!1,onSubmit:{}}},beforeMount:function(){var t=this;vt.EventBus.$on("show",(function(e){t.show(e)}))},methods:{show:function(t){var e=this;return Object(Y["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.isShown=!0,e.title=t.title,e.onSubmit=t.onSubmit,n.next=5,e.$nextTick((function(){e.$refs.submitButton.focus()}));case 5:case"end":return n.stop()}}),n)})))()},hide:function(){this.isShown=!1},submit:function(){"function"===typeof this.onSubmit?(this.onSubmit(),this.hide()):this.hide()}}},ft=dt,ht=(n("f48d"),Object(f["a"])(ft,ut,lt,!1,null,"544d3762",null)),pt=ht.exports,mt={install:function(t){this.EventBus=new t,t.component("AppModal",pt),t.prototype.$modal={show:function(t){mt.EventBus.$emit("show",t)}}}},vt=mt,bt=n("ecee"),wt=n("c074"),gt=n("ad3d");bt["c"].add(wt["e"],wt["g"],wt["d"],wt["a"],wt["f"],wt["b"],wt["c"]),o["a"].component("FontAwesomeIcon",gt["a"]),o["a"].use(vt),o["a"].config.productionTip=!1,new o["a"]({router:it,store:ct,render:function(t){return t(S)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var o=n("70c1"),s=n.n(o);s.a},"5ef4":function(t,e,n){},"70c1":function(t,e,n){},"957c":function(t,e,n){"use strict";var o=n("de79"),s=n.n(o);s.a},a3ed:function(t,e,n){},cdab:function(t,e,n){"use strict";var o=n("f103"),s=n.n(o);s.a},d163:function(t,e,n){},d4e7:function(t,e,n){},de79:function(t,e,n){},ec88:function(t,e,n){"use strict";var o=n("a3ed"),s=n.n(o);s.a},f103:function(t,e,n){},f48d:function(t,e,n){"use strict";var o=n("17f8"),s=n.n(o);s.a},f5a7:function(t,e,n){"use strict";var o=n("d163"),s=n.n(o);s.a}});
//# sourceMappingURL=app.d136d097.js.map